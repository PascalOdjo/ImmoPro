<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ImmoPro - Ajouter un client</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="../../css/components.css">
    <link rel="stylesheet" href="../../css/style_admin.css">
    <link rel="stylesheet" href="../../css/style_admin_client_form.css">
</head>

<body>
    <div class="sidebar" id="sidebar">
        <div class="logo">
            <div class="logo-icon">
                <span class="material-icons">home</span>
            </div>
            <span>ImmoPro</span>
        </div>

        <button class="mobile-menu-toggle" onclick="toggleMobileMenu()">
            <span class="material-icons">menu</span>
        </button>

        <a href="dashboard.html" class="menu-item">
            <span class="material-icons menu-icon">dashboard</span>
            <span>Tableau de bord</span>
        </a>

        <a href="biens.html" class="menu-item">
            <span class="material-icons menu-icon">home</span>
            <span>Biens immobiliers</span>
        </a>

        <a href="clients.html" class="menu-item active">
            <span class="material-icons menu-icon">people</span>
            <span>Clients</span>
        </a>

        <a href="visites.html" class="menu-item">
            <span class="material-icons menu-icon">event</span>
            <span>Visites</span>
        </a>

        <a href="messagerie.html" class="menu-item">
            <span class="material-icons menu-icon">chat</span>
            <span>Messages</span>
        </a>

        <a href="parametres.html" class="menu-item">
            <span class="material-icons menu-icon">settings</span>
            <span>Paramètres</span>
        </a>

        <a href="#" class="logout" onclick="handleLogout(event)">
            <span class="material-icons menu-icon">logout</span>
            <span>Déconnexion</span>
        </a>
    </div>

    <div class="main-content">
        <div class="header">
            <button onclick="history.back()" class="back-button" aria-label="Retour">
                <span class="material-icons">arrow_back</span>
            </button>
            <h1>Ajouter un client</h1>
            <div class="header-right">
                <div class="user-profile">
                    <div class="avatar"></div>
                    <div class="user-info">
                        <div class="user-name">John Doe</div>
                        <div class="user-role">Agent immobilier</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="content">
            <form id="client-form" class="client-form" novalidate>
                <!-- Informations Personnelles -->
                <section class="form-section" aria-labelledby="personal-info-title">
                    <h2 id="personal-info-title">Informations Personnelles</h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="client-civility">Civilité *</label>
                            <select id="client-civility" name="civility" required>
                                <option value="">Sélectionner</option>
                                <option value="mr">Monsieur</option>
                                <option value="mme">Madame</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="client-firstname">Prénom *</label>
                            <input type="text" id="client-firstname" name="firstname" required>
                        </div>

                        <div class="form-group">
                            <label for="client-lastname">Nom *</label>
                            <input type="text" id="client-lastname" name="lastname" required>
                        </div>

                        <div class="form-group">
                            <label for="client-birthday">Date de naissance</label>
                            <input type="date" id="client-birthday" name="birthday">
                        </div>
                    </div>
                </section>

                <!-- Contact -->
                <section class="form-section" aria-labelledby="contact-info-title">
                    <h2 id="contact-info-title">Informations de Contact</h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="client-email">Email *</label>
                            <input type="email" id="client-email" name="email" required>
                        </div>

                        <div class="form-group">
                            <label for="client-phone">Téléphone mobile *</label>
                            <input type="tel" id="client-phone" name="phone" required pattern="[0-9]{10}" placeholder="Ex: 0612345678">
                        </div>

                        <div class="form-group">
                            <label for="client-phone-alt">Téléphone fixe</label>
                            <input type="tel" id="client-phone-alt" name="phone_alt" pattern="[0-9]{10}" placeholder="Ex: 0123456789">
                        </div>

                        <div class="form-group">
                            <label for="client-preferred">Moyen de contact préféré</label>
                            <select id="client-preferred" name="preferred_contact">
                                <option value="email">Email</option>
                                <option value="phone">Téléphone</option>
                                <option value="sms">SMS</option>
                            </select>
                        </div>
                    </div>
                </section>

                <!-- Adresse -->
                <section class="form-section" aria-labelledby="address-info-title">
                    <h2 id="address-info-title">Adresse</h2>
                    <div class="form-grid">
                        <div class="form-group full-width">
                            <label for="client-address">Adresse *</label>
                            <input type="text" id="client-address" name="address" required placeholder="Numéro et nom de rue">
                        </div>

                        <div class="form-group">
                            <label for="client-city">Ville *</label>
                            <input type="text" id="client-city" name="city" required>
                        </div>

                        <div class="form-group">
                            <label for="client-postal">Code postal *</label>
                            <input type="text" id="client-postal" name="postal_code" required pattern="[0-9]{5}" placeholder="Ex: 75001">
                        </div>

                        <div class="form-group">
                            <label for="client-country">Pays</label>
                            <input type="text" id="client-country" name="country" value="France">
                        </div>
                    </div>
                </section>

                <!-- Profil Client -->
                <section class="form-section" aria-labelledby="profile-info-title">
                    <h2 id="profile-info-title">Profil Client</h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="client-type">Type de client *</label>
                            <select id="client-type" name="client_type" required>
                                <option value="">Sélectionner</option>
                                <option value="buyer">Acheteur</option>
                                <option value="seller">Vendeur</option>
                                <option value="both">Acheteur & Vendeur</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="client-status">Statut *</label>
                            <select id="client-status" name="status" required>
                                <option value="">Sélectionner</option>
                                <option value="active">Actif</option>
                                <option value="pending">En attente</option>
                                <option value="inactive">Inactif</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="client-source">Source</label>
                            <select id="client-source" name="source">
                                <option value="">Sélectionner</option>
                                <option value="website">Site web</option>
                                <option value="recommendation">Recommandation</option>
                                <option value="social">Réseaux sociaux</option>
                                <option value="agency">Agence</option>
                                <option value="other">Autre</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="client-agent">Agent assigné *</label>
                            <select id="client-agent" name="assigned_agent" required>
                                <option value="">Sélectionner</option>
                                <option value="john-doe">John Doe</option>
                                <option value="jane-smith">Jane Smith</option>
                                <option value="mike-johnson">Mike Johnson</option>
                            </select>
                        </div>
                    </div>
                </section>

                <!-- Notes -->
                <section class="form-section" aria-labelledby="notes-info-title">
                    <h2 id="notes-info-title">Notes & Commentaires</h2>
                    <div class="form-group full-width">
                        <label for="client-notes">Notes internes</label>
                        <textarea id="client-notes" name="notes" rows="4" placeholder="Ajoutez des notes ou commentaires internes sur ce client..."></textarea>
                    </div>
                </section>

                <!-- Préférences de recherche (pour les acheteurs) -->
                <section class="form-section" aria-labelledby="preferences-info-title">
                    <h2 id="preferences-info-title">Critères de recherche</h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="search-type">Type de bien recherché</label>
                            <select id="search-type" name="search_property_type">
                                <option value="">Tous types</option>
                                <option value="apartment">Appartement</option>
                                <option value="house">Maison</option>
                                <option value="villa">Villa</option>
                                <option value="land">Terrain</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="search-budget">Budget maximum</label>
                            <div class="input-addon">
                                <input type="number" id="search-budget" name="max_budget" placeholder="Ex: 450000">
                                <span class="addon">€</span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="search-area">Surface minimum (m²)</label>
                            <input type="number" id="search-area" name="min_area" placeholder="Ex: 80">
                        </div>

                        <div class="form-group">
                            <label for="search-rooms">Nombre de pièces minimum</label>
                            <input type="number" id="search-rooms" name="min_rooms" placeholder="Ex: 3">
                        </div>
                    </div>

                    <div class="form-group full-width">
                        <label for="search-locations">Secteurs recherchés</label>
                        <input type="text" id="search-locations" name="preferred_locations" placeholder="Ex: Paris 16, Neuilly-sur-Seine, Levallois-Perret">
                        <div class="form-help">Séparez les différents secteurs par des virgules</div>
                    </div>
                </section>

                <!-- RGPD -->
                <section class="form-section" aria-labelledby="gdpr-info-title">
                    <h2 id="gdpr-info-title">Consentement RGPD</h2>
                    <div class="checkbox-group">
                        <label class="checkbox-item">
                            <input type="checkbox" name="gdpr_consent" required>
                            <span class="checkbox-label">Le client accepte le traitement de ses données personnelles *</span>
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="marketing_consent">
                            <span class="checkbox-label">Le client accepte de recevoir des communications marketing</span>
                        </label>
                    </div>
                </section>

                <!-- Barre d'action -->
                <div class="form-actions">
                    <button type="button" class="btn-secondary" onclick="history.back()">Annuler</button>
                    <button type="submit" class="btn-primary">
                        <span class="material-icons">save</span>
                        Enregistrer
                    </button>
                </div>
            </form>
        </div>
    </div>

    <footer class="site-footer" role="contentinfo" aria-label="Pied de page">
        <div class="footer-left">© 2025 ImmoPro — Tous droits réservés</div>
        <div class="footer-links">
            <a href="../client/mentions-legales.html">Mentions légales</a>
            <a href="../client/privacy.html">Politique de confidentialité</a>
            <a href="../client/contact.html">Contact</a>
        </div>
    </footer>
    </div>
    <script src="../../js/script.js"></script>
    <script src="../../js/admin_client_form.js"></script>
</body>

</html>