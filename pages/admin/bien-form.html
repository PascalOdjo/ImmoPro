<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ImmoPro - Ajouter un bien</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="../../css/components.css">
    <link rel="stylesheet" href="../../css/style_admin.css">
    <link rel="stylesheet" href="../../css/style_admin_bien_form.css">
</head>

<body>
    <div class="sidebar" id="sidebar">
        <div class="logo">
            <div class="logo-icon"></div>
            <span>ImmoPro</span>
        </div>

        <button class="mobile-menu-toggle" onclick="toggleMobileMenu()">
            <span class="material-icons">menu</span>
        </button>

        <a href="dashboard.html" class="menu-item">
            <span class="material-icons menu-icon">dashboard</span>
            <span>Tableau de bord</span>
        </a>

        <a href="biens.html" class="menu-item active">
            <span class="material-icons menu-icon">home</span>
            <span>Biens immobiliers</span>
        </a>

        <a href="clients.html" class="menu-item">
            <span class="material-icons menu-icon">people</span>
            <span>Clients</span>
        </a>

        <a href="visites.html" class="menu-item">
            <span class="material-icons menu-icon">event</span>
            <span>Visites</span>
        </a>

        <a href="messagerie.html" class="menu-item">
            <span class="material-icons menu-icon">chat</span>
            <span>Messages</span>
        </a>

        <a href="parametres.html" class="menu-item">
            <span class="material-icons menu-icon">settings</span>
            <span>Paramètres</span>
        </a>

        <a href="#" class="logout" onclick="handleLogout(event)">
            <span class="material-icons menu-icon">logout</span>
            <span>Déconnexion</span>
        </a>
    </div>

    <div class="main-content">
        <div class="header">
            <button onclick="history.back()" class="back-button" aria-label="Retour">
                <span class="material-icons">arrow_back</span>
            </button>
            <h1>Ajouter un bien</h1>
            <div class="header-right">
                <div class="user-profile">
                    <div class="avatar"></div>
                    <div class="user-info">
                        <div class="user-name">John Doe</div>
                        <div class="user-role">Agent immobilier</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="content">
            <form id="property-form" class="property-form" novalidate>
                <!-- Section Informations Principales -->
                <section class="form-section" aria-labelledby="main-info-title">
                    <h2 id="main-info-title">Informations Principales</h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="property-title">Titre du bien *</label>
                            <input type="text" id="property-title" name="title" required placeholder="Ex: Villa moderne avec piscine">
                            <div class="form-help">Le titre qui apparaîtra dans les listings</div>
                        </div>

                        <div class="form-group">
                            <label for="property-type">Type de bien *</label>
                            <select id="property-type" name="type" required>
                                <option value="">Sélectionner un type</option>
                                <option value="apartment">Appartement</option>
                                <option value="house">Maison</option>
                                <option value="villa">Villa</option>
                                <option value="loft">Loft</option>
                                <option value="land">Terrain</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="property-status">Statut *</label>
                            <select id="property-status" name="status" required>
                                <option value="">Sélectionner un statut</option>
                                <option value="available">Disponible</option>
                                <option value="pending">En attente</option>
                                <option value="sold">Vendu</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="property-price">Prix *</label>
                            <div class="input-addon">
                                <input type="number" id="property-price" name="price" required min="0" placeholder="Ex: 450000">
                                <span class="addon">€</span>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Section Localisation -->
                <section class="form-section" aria-labelledby="location-info-title">
                    <h2 id="location-info-title">Localisation</h2>
                    <div class="form-grid">
                        <div class="form-group full-width">
                            <label for="property-address">Adresse *</label>
                            <input type="text" id="property-address" name="address" required placeholder="Numéro et nom de rue">
                        </div>

                        <div class="form-group">
                            <label for="property-city">Ville *</label>
                            <input type="text" id="property-city" name="city" required>
                        </div>

                        <div class="form-group">
                            <label for="property-postal">Code postal *</label>
                            <input type="text" id="property-postal" name="postal_code" required pattern="[0-9]{5}" placeholder="Ex: 75001">
                        </div>

                        <div class="form-group">
                            <label for="property-country">Pays</label>
                            <input type="text" id="property-country" name="country" value="France">
                        </div>
                    </div>
                </section>

                <!-- Section Caractéristiques -->
                <section class="form-section" aria-labelledby="features-info-title">
                    <h2 id="features-info-title">Caractéristiques</h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="property-area">Surface habitable (m²) *</label>
                            <input type="number" id="property-area" name="living_area" required min="0" placeholder="Ex: 120">
                        </div>

                        <div class="form-group">
                            <label for="property-land">Surface terrain (m²)</label>
                            <input type="number" id="property-land" name="land_area" min="0" placeholder="Ex: 500">
                        </div>

                        <div class="form-group">
                            <label for="property-rooms">Nombre de pièces *</label>
                            <input type="number" id="property-rooms" name="rooms" required min="1" placeholder="Ex: 5">
                        </div>

                        <div class="form-group">
                            <label for="property-bedrooms">Chambres</label>
                            <input type="number" id="property-bedrooms" name="bedrooms" min="0" placeholder="Ex: 3">
                        </div>

                        <div class="form-group">
                            <label for="property-bathrooms">Salles de bain</label>
                            <input type="number" id="property-bathrooms" name="bathrooms" min="0" placeholder="Ex: 2">
                        </div>

                        <div class="form-group">
                            <label for="property-year">Année de construction</label>
                            <input type="number" id="property-year" name="year" min="1800" placeholder="Ex: 1995">
                        </div>
                    </div>

                    <!-- Équipements -->
                    <div class="features-grid">
                        <h3>Équipements</h3>
                        <div class="checkbox-grid">
                            <label class="checkbox-item">
                                <input type="checkbox" name="features[]" value="parking">
                                <span class="checkbox-label">Parking</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="features[]" value="pool">
                                <span class="checkbox-label">Piscine</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="features[]" value="garden">
                                <span class="checkbox-label">Jardin</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="features[]" value="elevator">
                                <span class="checkbox-label">Ascenseur</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="features[]" value="terrace">
                                <span class="checkbox-label">Terrasse</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="features[]" value="balcony">
                                <span class="checkbox-label">Balcon</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="features[]" value="cellar">
                                <span class="checkbox-label">Cave</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="features[]" value="fireplace">
                                <span class="checkbox-label">Cheminée</span>
                            </label>
                        </div>
                    </div>
                </section>

                <!-- Section Description -->
                <section class="form-section" aria-labelledby="description-info-title">
                    <h2 id="description-info-title">Description</h2>
                    <div class="form-group full-width">
                        <label for="property-description">Description détaillée *</label>
                        <textarea id="property-description" name="description" required rows="6" placeholder="Décrivez le bien en détail..."></textarea>
                        <div class="form-help">Minimum 100 caractères</div>
                    </div>
                </section>

                <!-- Section DPE (Diagnostic de performance énergétique) -->
                <section class="form-section" aria-labelledby="dpe-info-title">
                    <h2 id="dpe-info-title">DPE & Diagnostics</h2>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="dpe-class">Classe énergétique (DPE)</label>
                            <select id="dpe-class" name="dpe_class">
                                <option value="">--</option>
                                <option value="A">A</option>
                                <option value="B">B</option>
                                <option value="C">C</option>
                                <option value="D">D</option>
                                <option value="E">E</option>
                                <option value="F">F</option>
                                <option value="G">G</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="dpe-consumption">Consommation (kWh/m²/an)</label>
                            <input type="number" id="dpe-consumption" name="dpe_consumption" min="0">
                        </div>

                        <div class="form-group">
                            <label for="ges">GES (kgCO2/m²/an)</label>
                            <input type="number" id="ges" name="ges" min="0">
                        </div>

                        <div class="form-group">
                            <label for="dpe-report">Rapport DPE (PDF)</label>
                            <input type="file" id="dpe-report" name="dpe_report" accept="application/pdf">
                        </div>

                        <div class="form-group">
                            <label for="cadastral-ref">Référence cadastrale</label>
                            <input type="text" id="cadastral-ref" name="cadastral_ref">
                        </div>

                        <div class="form-group">
                            <label for="available-date">Date de disponibilité</label>
                            <input type="date" id="available-date" name="available_date">
                        </div>
                    </div>
                </section>

                <!-- Section Photos -->
                <section class="form-section" aria-labelledby="photos-info-title">
                    <h2 id="photos-info-title">Photos</h2>
                    <div class="photo-upload-container">
                        <div class="photo-upload-area" id="photo-drop-zone">
                            <input type="file" id="photo-input" name="photos[]" multiple accept="image/*" class="photo-input">
                            <span class="material-icons">cloud_upload</span>
                            <p>Glissez vos photos ici ou cliquez pour sélectionner</p>
                            <p class="upload-help">Format JPG, PNG • Max 5MB par image</p>
                        </div>
                        <div class="photo-preview" id="photo-preview"></div>
                    </div>
                </section>

                <!-- Barre d'action -->
                <div class="form-actions">
                    <button type="button" class="btn-secondary" onclick="history.back()">Annuler</button>
                    <button type="submit" class="btn-primary">
                        <span class="material-icons">save</span>
                        Enregistrer
                    </button>
                </div>
            </form>
        </div>
        <footer class="site-footer" role="contentinfo" aria-label="Pied de page">
            <div class="footer-left">© 2025 ImmoPro — Tous droits réservés</div>
            <div class="footer-links">
                <a href="../client/mentions-legales.html">Mentions légales</a>
                <a href="../client/privacy.html">Politique de confidentialité</a>
                <a href="../client/contact.html">Contact</a>
            </div>
        </footer>
    </div>
    <script src="../../js/script.js"></script>
    <script src="../../js/admin_bien_form.js"></script>
</body>

</html>